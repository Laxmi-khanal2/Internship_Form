@model List<CreateInternship>

@{
    ViewData["Title"] = "Internship Cards";
    Layout = "~/Views/Shared/AdminLTECompany/_Layout.cshtml";
}
<style>
    .card-container {
        display: flex;
        flex-wrap: wrap;
    }

    .card {
        width: 100%;
        max-width: 300px; /* Adjusted max-width */
        height: 400px; /* Adjusted card height */
        position: relative;
        overflow: hidden;
        margin-right: 20px;
        margin-bottom: 20px;
        border-radius: 15px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: height 0.3s ease, width 0.3s ease; /* Transition for smooth height and width change */
    }

        .card.expanded {
            height:auto; /* Allow card to expand to fit content */
            width: 80%; /* Adjust card width after expansion */
            margin-right: 0; /* Remove right margin after expansion */
        }

        .card:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }

        .card::before {
            content: "";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(to bottom right, white, white);
            opacity: 0.5;
            z-index: 1;
        }

    .card-body {
        position: relative;
        z-index: 2;
        padding: 20px;
    }

    .card-title {
        font-size: 24px;
        margin-bottom: 10px;
        color: red;
    }

    .label {
        font-weight: bold;
        color: #000000;
    }

    .card-text {
        margin-bottom: 10px;
        font-weight: normal;
        color: #343a40;
    }

    .apply-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: red;
        border-color: #dc3545;
        z-index: 2;
    }

    .view-more-button {
        background-color: #dc3545;
        border-color: #dc3545;
        color: #ffffff;
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
    }

    .right-div {
        flex-grow: 5;

    }

    .full-card {
        display: none;
    }
</style>

<div class="row">
    <div class="card-container col-md-8">
        @foreach (var Internship in Model)
        {
            <div class="card" onclick="toggleCard(this)">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <h5 class="card-title">@Internship.TitleOfInternship</h5>
                        </div>
                        <a asp-controller="Student" asp-action="Details" class="btn btn-primary apply-button">Applied Student</a>
                        <div class="col-md-6">
                            <span class="label">Company Name:</span>
                            <p class="card-text">@Internship.NameOfCompany</p>
                        </div>
                        <div class="col-md-6">
                            <span class="label">Address:</span>
                            <p class="card-text">@Internship.Address</p>
                        </div>
                        <div class="col-md-6">
                            <span class="label">Offered-Salary:</span>
                            <p class="card-text">@Internship.OfferedSalary</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <span class="label">Type:</span>
                            <p class="card-text">@EnumHelper.GetDisplayName((TypeOfInternship)Internship.SelectedType)</p>
                        </div>
                        <div class="col-md-6">
                            <span class="label">Location:</span>
                            @{
                                LocationType location;
                                Enum.TryParse(Internship.Location, out location);
                            }
                            <p class="card-text">@EnumHelper.GetDisplayName(location)</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <span class="label">Duration:</span>
                            <p class="card-text">@Internship.Duration</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="label">Job Description:</span>
                            <p class="card-text">@Html.Raw(Internship.JobDescription)</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="label">Responsibility:</span>
                            <p class="card-text">@Html.Raw(Internship.Responsiblity)</p>
                        </div>
                    </div>
                    <button class="btn view-more-button">View More</button>
                </div>
            </div>
        }
    </div>
    <div class="right-div col-md-4">
        <!-- Right div content here -->
    </div>
</div>

<script>
    function toggleCard(card) {
        var expandedCards = document.querySelectorAll('.card.expanded');
        expandedCards.forEach(function (expandedCard) {
            if (expandedCard !== card) {
                expandedCard.classList.remove('expanded');
                expandedCard.querySelector('.view-more-button').textContent = 'View More';
                document.querySelector('.card-container').appendChild(expandedCard);
            }
        });

        card.classList.toggle('expanded');
        var button = card.querySelector('.view-more-button');
        if (card.classList.contains('expanded')) {
            button.textContent = 'View Less';
            var rightDiv = document.querySelector('.right-div');
            rightDiv.appendChild(card);
        } else {
            button.textContent = 'View More';
            var cardContainer = document.querySelector('.card-container');
            cardContainer.appendChild(card);
        }
    }
</script>
